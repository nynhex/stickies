<%= render 'partials/nav' %>

<div ng-repeat="sticky in stickies | filter:{archive: false}">
  <div class="sticky-note" ng-dblclick="editSticky(sticky)" ng-style="{ top: sticky.top, left: sticky.left}" drag-me="" ng-mouseup="letGoSticky(sticky, $index)">

    <form ng-submit="changeContent(sticky)" >

      <h3 class="sticky-title" ng-hide="sticky.hiddentext">{{sticky.title}}
        <span class="glyphicon glyphicon-remove archive-sticky" ng-click="archive(sticky)"></span>
      </h3>

      <h3 class="sticky-title" ng-show="sticky.hiddentext">
        <input type="text" class="title" autofocus ng-model="stickies.titlechange" />
      </h3>

      <div class="divider"></div>
      <p class="sticky-body" ng-hide="sticky.hiddentext">{{sticky.body}}</p>
      <textarea class="body" ng-model="stickies.bodychange" ng-show="sticky.hiddentext"></textarea>
    </form>

  </div>
</div>